/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
*/
/* Universal box-sizing for predictable layouts */
html {
  box-sizing: border-box;
  font-size: 16px; /* Base font size */
  scroll-padding-top: 140px; /* Prevent content hidden behind fixed header */
}

*,
*::before,
*::after {
  box-sizing: inherit;
}

:root {
  --primary-color: #c0392b; /* A strong red */
  --primary-hover-color: #e74c3c; /* A brighter red for hover */
  --primary-gradient: linear-gradient(135deg, #c0392b 0%, #e74c3c 100%);
  --secondary-gradient: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
  --accent-color: #f39c12;
  --background-color: #fdedec; /* Light red background */
  --card-bg-color: rgba(255, 255, 255, 0.95);
  --text-color: #2c3e50;
  --border-color: #ecf0f1;
  --font-family: 'Tajawal', sans-serif;
  --shadow-sm: 0 4px 6px rgba(0,0,0,0.05);
  --shadow-md: 0 10px 15px rgba(0,0,0,0.1);
  --shadow-lg: 0 20px 25px rgba(0,0,0,0.15);
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-family);
  background-color: var(--background-color);
  color: var(--text-color);
  line-height: 1.6;
  /* New background image as requested */
  background-image: url('https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=2070&auto=format&fit=crop');
  background-size: cover;
  background-position: center center;
  background-attachment: fixed;
  margin: 0;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  width: 100%;
  overflow-x: hidden; /* Prevent horizontal scroll issues */
}

body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(253, 237, 236, 0.9); /* Light red overlay */
    z-index: -1;
}

/* RESULTS MODE OVERRIDES - Makes the results view a full page */
body.results-mode {
    background-image: none !important;
    background-color: #2c0505 !important; /* Match result gradient start (Dark Red) */
}

body.results-mode::before {
    display: none !important;
}

body.results-mode header,
body.results-mode footer {
    display: none !important;
}

body.results-mode main {
    padding: 0 !important;
    display: block !important;
    width: 100%;
}

body.results-mode #root {
    width: 100%;
    max-width: none !important;
}


html[dir="ltr"] .results-container {
  text-align: left;
}

html[dir="rtl"] .results-container {
  text-align: right;
}

/* Original Card Border Logic (kept for backward compatibility if needed, but overridden below) */
html[dir="ltr"] .job-suggestion-card {
  border-left: 5px solid var(--primary-color);
}

html[dir="rtl"] .job-suggestion-card {
  border-right: 5px solid var(--primary-color);
}


header {
  background-color: var(--card-bg-color);
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
  box-shadow: 0 2px 5px rgba(0,0,0,0.08);
  width: 100%;
  border-bottom: 3px solid var(--primary-color);
  position: fixed; /* Changed to fixed */
  top: 0;
  left: 0;
  z-index: 1000; /* Increased z-index */
}

footer {
  background-color: var(--card-bg-color);
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
  box-shadow: 0 -2px 5px rgba(0,0,0,0.08);
  width: 100%;
  border-bottom: none;
  border-top: 3px solid var(--primary-color);
  text-align: center;
  font-size: 0.9rem;
  color: #7f8c8d;
}

.header-container, .footer-container {
  max-width: 950px;
  margin: 0 auto;
  padding: 1rem 2rem;
  display: flex;
  align-items: center;
}

.header-container {
  justify-content: space-between;
}

.footer-container {
  justify-content: center;
}

.header-right {
    display: flex;
    align-items: center;
    gap: 1.5rem;
}

#header-actions {
    display: flex;
    gap: 0.5rem;
}

#header-actions .btn {
    padding: 0.6rem 1rem;
    font-size: 0.9rem;
    box-shadow: none;
    background: transparent;
    border: 2px solid var(--primary-color);
    color: var(--primary-color);
    font-weight: 700;
}

#header-actions .btn:hover {
    background: var(--primary-color);
    color: white;
    transform: none;
    box-shadow: 0 2px 8px rgba(192, 57, 43, 0.3);
    filter: none; /* Reset filter for this specific button type */
}

header h1 {
  font-size: clamp(1.4rem, 4vw, 1.8rem); /* Adjusted for mobile */
  font-weight: 700;
  color: var(--text-color);
  cursor: pointer;
  transition: color 0.3s ease;
  margin: 0;
}

header h1:hover {
  color: var(--primary-color);
}

main {
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 2rem 1rem;
  padding-top: 6rem; /* Added padding for fixed header (desktop default) */
  flex-grow: 1;
}

#root {
  width: 100%;
  max-width: 1100px; /* Increased for the dashboard view */
  display: flex;
  flex-direction: column;
  align-items: center;
}

.container {
  background-color: var(--card-bg-color);
  -webkit-backdrop-filter: blur(8px);
  backdrop-filter: blur(8px);
  padding: 2rem; /* Optimized padding */
  border-radius: 16px;
  box-shadow: var(--shadow-lg);
  width: 95%; /* Responsive width */
  max-width: 950px;
  margin: 0 auto;
}

/* Page Transition Wrapper */
@keyframes fadeInUpSmooth {
  from {
    opacity: 0;
    transform: translateY(15px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.page-container {
  animation: fadeInUpSmooth 0.4s ease-out;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* =================================== */
/*     Unified Form Element Styles     */
/* =================================== */
input[type="text"],
input[type="number"],
input[type="password"],
input[type="search"],
input[type="email"],
textarea,
select {
  background-color: rgba(255, 255, 255, 0.9);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 0.8rem 1rem;
  font-size: 1rem;
  font-family: var(--font-family);
  color: var(--text-color);
  width: 100%;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
  -webkit-appearance: none; /* Removes default OS styling */
  -moz-appearance: none;
  appearance: none;
}

input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px rgba(192, 57, 43, 0.15);
}

/* Add a dropdown arrow for select elements */
select {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%232c3e50' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='m6 9 6 6 6-6'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 1rem center;
    background-size: 1em;
    padding-right: 2.5rem;
}

html[dir="rtl"] select {
    background-position: left 1rem center;
    padding-right: 1rem;
    padding-left: 2.5rem;
}

textarea {
    resize: vertical;
    line-height: 1.6;
}

/* Adjust placeholder color */
::placeholder {
    color: #95a5a6;
    opacity: 1;
}


/* Language Switcher Dropdown */
.lang-switcher-dropdown {
    position: relative;
}

.lang-btn-current {
    background-color: var(--card-bg-color);
    border: 2px solid var(--border-color);
    padding: 0.5rem 1rem;
    font-size: 1rem;
    font-weight: 500;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    color: var(--text-color);
    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    min-width: 140px;
    justify-content: space-between;
}

.lang-btn-current:hover {
    border-color: var(--primary-color);
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.lang-btn-current .chevron-icon {
    transition: transform 0.2s ease-in-out;
}

.lang-switcher-dropdown.open .lang-btn-current .chevron-icon {
    transform: rotate(180deg);
}

.lang-btn-current img,
.lang-option-btn img {
    width: 24px;
    height: auto;
    border-radius: 3px;
    flex-shrink: 0;
}

.lang-dropdown-content {
    display: none;
    position: absolute;
    top: calc(100% + 8px);
    right: 0;
    background-color: var(--card-bg-color);
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
    min-width: 100%;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    border-radius: 8px;
    z-index: 100;
    border: 1px solid var(--border-color);
    overflow: hidden;
    animation: fadeIn 0.2s ease-out;
}

html[dir="rtl"] .lang-dropdown-content {
    right: auto;
    left: 0;
}

.lang-switcher-dropdown.open .lang-dropdown-content {
    display: block;
}

.lang-dropdown-content ul {
    list-style: none;
    padding: 0.5rem;
    margin: 0;
}

.lang-option-btn {
    background: none;
    border: none;
    width: 100%;
    text-align: left;
    padding: 0.75rem 1rem;
    font-size: 1rem;
    border-radius: 6px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.6rem;
    color: var(--text-color);
    font-family: var(--font-family);
    transition: background-color 0.2s ease;
}

html[dir="rtl"] .lang-option-btn {
    text-align: right;
}

.lang-option-btn:hover {
    background-color: rgba(240, 240, 240, 0.7);
}

.welcome-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(10px); /* Reduced for subtlety */
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes click-feedback {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.97);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes fadeInDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

h1 {
  font-size: clamp(1.5rem, 4vw, 2.2rem); /* Reduced for less overwhelming look */
  margin-bottom: 0.8rem;
  color: var(--text-color);
  line-height: 1.2;
}

h2 {
  font-size: clamp(1.2rem, 3.5vw, 1.6rem);
  margin-bottom: 1rem;
}

p {
  font-size: 1rem;
  margin-bottom: 1rem;
  color: #555;
  line-height: 1.6;
}

.btn, .action-card, .profession-card, .report-item, .option-btn, .praktikum-company-card, .template-option {
    transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease, background-color 0.25s ease;
}


.btn {
  background: var(--primary-gradient);
  color: white;
  border: none;
  padding: 0.8rem 1.5rem;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  text-decoration: none;
  box-shadow: 0 4px 15px rgba(192, 57, 43, 0.3);
  justify-content: center;
}

.btn.secondary {
  background: #f0f0f0;
  color: var(--text-color);
  box-shadow: 0 4px 6px rgba(0,0,0, 0.05);
}

.btn:hover {
  transform: translateY(-3px) scale(1.02);
  box-shadow: 0 6px 20px rgba(192, 57, 43, 0.4);
  filter: brightness(1.1);
}
.btn.secondary:hover {
  background-color: #e0e0e0;
  box-shadow: 0 6px 15px rgba(0,0,0, 0.1);
  transform: translateY(-3px) scale(1.02);
  filter: none;
}

.btn:disabled {
  background: #ccc;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.btn:disabled:hover {
  filter: none;
}

.btn.accent-btn {
    background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
    box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3);
}
.btn.accent-btn:hover {
    box-shadow: 0 6px 20px rgba(243, 156, 18, 0.4);
}

.btn.small-btn {
    padding: 0.5rem 1rem;
    font-size: 0.9rem;
}

/* TTS Button Style */
.read-text-btn {
    background: none;
    border: none;
    cursor: pointer;
    color: var(--primary-color);
    padding: 0.2rem;
    margin-inline-start: 0.5rem;
    vertical-align: middle;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.2s ease, color 0.2s ease;
    border-radius: 50%;
}

.read-text-btn:hover {
    transform: scale(1.1);
    color: var(--primary-hover-color);
    background-color: rgba(192, 57, 43, 0.1);
}

.read-text-btn svg {
    width: 24px;
    height: 24px;
}

/* Mic Button Style & Input Wrapper */
.input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
}

.input-wrapper input, .input-wrapper textarea {
    padding-right: 3rem; /* Space for mic button */
}
/* Adjust for RTL */
html[dir="rtl"] .input-wrapper input,
html[dir="rtl"] .input-wrapper textarea {
    padding-right: 1rem;
    padding-left: 3rem;
}

.mic-btn {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    cursor: pointer;
    color: #7f8c8d;
    padding: 5px;
    border-radius: 50%;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
}
/* Adjust for textarea */
.input-wrapper textarea + .mic-btn {
    top: 20px; /* Top align for textarea */
    transform: none;
}

html[dir="rtl"] .mic-btn {
    right: auto;
    left: 10px;
}

.mic-btn:hover {
    color: var(--primary-color);
    background-color: rgba(0,0,0,0.05);
}

.mic-btn.listening {
    color: #e74c3c;
    animation: pulse-red 1.5s infinite;
}

@keyframes pulse-red {
    0% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(231, 76, 60, 0); }
    100% { box-shadow: 0 0 0 0 rgba(231, 76, 60, 0); }
}


/* New Welcome Actions Vertical Layout */
.welcome-actions {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    margin-top: 2.5rem;
    width: 100%;
}

.action-card {
    background-color: rgba(255, 255, 255, 0.1);
    border: 1px solid transparent;
    border-radius: 12px;
    padding: 2rem 1.5rem;
    text-align: center;
    cursor: pointer;
    box-shadow: none;
}

.action-card:hover {
    transform: none;
    box-shadow: none;
    background-color: rgba(255, 255, 255, 0.3);
    border-color: var(--primary-color);
}

.action-card h3 {
    font-size: 1.3rem;
    color: var(--text-color);
    margin-bottom: 0.5rem;
}

.action-card p {
    font-size: 0.95rem;
    color: #666;
    margin-bottom: 0;
}

.action-card.primary {
    background: var(--primary-gradient);
    border: none;
    box-shadow: 0 6px 20px rgba(192, 57, 43, 0.3);
}

.action-card.primary h3, .action-card.primary p {
    color: white;
}

.action-card.primary:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(192, 57, 43, 0.5);
}

/* Locked Card Style */
.action-card.locked {
    opacity: 0.7;
    cursor: not-allowed;
    background-color: rgba(230, 230, 230, 0.5);
    border-color: #ddd;
    position: relative;
}

.action-card.locked:hover {
    transform: none;
    box-shadow: none;
    border-color: #ddd;
    background-color: rgba(230, 230, 230, 0.5);
}

.action-card.locked h3 {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.lock-icon {
    color: #7f8c8d;
    display: flex;
    align-items: center;
}

.admin-extra-section {
    margin-top: 3rem;
    border-top: 1px solid rgba(0,0,0,0.1);
    padding-top: 2rem;
    width: 100%;
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
}

.admin-extra-content {
    background-color: rgba(255, 255, 255, 0.6);
    border-radius: 8px;
    padding: 1.5rem;
    text-align: center;
    border: 1px dashed #aaa;
}

.admin-extra-content h3 {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
}

.admin-extra-content p {
    font-size: 0.95rem;
    color: #777;
    margin-bottom: 0;
}

/* Top Nav Buttons (Back, Home) */
.top-nav-container {
    width: 100%;
    display: flex;
    justify-content: space-between;
    margin-bottom: 1.5rem;
}

.top-nav-container .btn.small-btn {
    background: transparent;
    color: #7f8c8d;
    border: 1px solid #ccc;
    box-shadow: none;
}
.top-nav-container .btn.small-btn:hover {
    background: #f0f0f0;
    color: var(--text-color);
}


/* Quiz Styles */
.quiz-container {
  max-width: 800px;
}

.progress-bar {
  width: 100%;
  height: 8px;
  background-color: #ecf0f1;
  border-radius: 4px;
  margin-bottom: 2rem;
  overflow: hidden;
}

.progress-bar-inner {
  height: 100%;
  background: var(--primary-gradient);
  transition: width 0.5s ease;
}

.question-text {
  font-size: clamp(1.1rem, 3vw, 1.4rem); /* Responsive font */
  font-weight: 500;
  margin-bottom: 2rem;
  text-align: center;
  color: var(--text-color);
}

/* --- REPLACED: .options-grid with .options-list --- */
/* Quiz Options - Text List Style */
.options-list {
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
  width: 100%;
  margin-top: 1rem;
}

.option-text-row {
  background: transparent;
  border: none;
  padding: 0.8rem 0.5rem;
  text-align: left;
  cursor: pointer;
  color: var(--text-color);
  font-family: var(--font-family);
  font-size: 1.1rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  transition: all 0.2s ease;
  border-bottom: 1px solid rgba(0,0,0,0.05);
  border-radius: 4px; /* Slight radius for hover effect */
}

html[dir="rtl"] .option-text-row {
    text-align: right;
}

.option-text-row:hover {
  background-color: rgba(0,0,0,0.02);
  color: var(--primary-color);
}

.radio-circle {
    width: 20px;
    height: 20px;
    border: 2px solid #bdc3c7;
    border-radius: 50%;
    display: inline-block;
    flex-shrink: 0;
    position: relative;
    transition: all 0.2s ease;
}

.option-text-row.selected .radio-circle {
    border-color: var(--primary-color);
    background-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(192, 57, 43, 0.2);
}

.option-text-row.selected .radio-circle::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 8px;
    height: 8px;
    background-color: white;
    border-radius: 50%;
}

.option-text-row.selected {
    color: var(--primary-color);
    font-weight: 500;
}

.option-text {
    line-height: 1.4;
}

/* Animation for clicked feedback kept but updated */
.option-text-row.clicked {
  animation: click-feedback 0.3s ease;
}

.quiz-input-group {
    width: 100%;
    margin-bottom: 2rem;
}

.quiz-input-group label {
    display: block;
    margin-bottom: 0.8rem;
    font-weight: 500;
    font-size: 1.1rem;
}

.quiz-nav {
  display: flex;
  justify-content: space-between;
  width: 100%;
  margin-top: 2rem;
}

/* Loader */
.loader-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 400px;
  text-align: center;
}

.loader {
  border: 4px solid #f3f3f3;
  border-top: 4px solid var(--primary-color);
  border-radius: 50%;
  width: 50px;
  height: 50px;
  animation: spin 1s linear infinite;
  margin-bottom: 1.5rem;
}

.inline-loader-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 2rem;
    color: #7f8c8d;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* ==========================================================================
   IMMERSIVE CREATIVE RESULTS STYLE (Page Mode)
   ========================================================================== */

/* Wrapper now acts as the page content, not a fixed overlay */
.creative-results-wrapper {
    /* Elegant Smooth Red Gradient - Coordinated */
    background: linear-gradient(135deg, #2c0505 0%, #7f1d1d 50%, #b91c1c 100%);
    background-attachment: fixed;
    min-height: 100vh;
    width: 100%;
    /* Position relative to allow normal flow */
    position: relative;
    padding: 2rem 1rem;
    color: white;
    font-family: 'Tajawal', sans-serif;
    z-index: 1;
}

/* Add a subtle mesh overlay for texture */
.creative-results-wrapper::before {
    content: "";
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: radial-gradient(rgba(255,255,255,0.05) 1px, transparent 1px);
    background-size: 30px 30px;
    pointer-events: none;
    z-index: -1;
}

.creative-container {
    max-width: 1000px;
    margin: 0 auto;
    position: relative;
    padding-bottom: 250px; /* Increased to allow space for the fixed footer on mobile */
}

/* Close Button -> Home Button */
.close-results-btn {
    position: absolute;
    top: 0;
    right: 0;
    background: rgba(255,255,255,0.1);
    border: 1px solid rgba(255,255,255,0.2);
    color: white;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    backdrop-filter: blur(8px);
    z-index: 10;
}
html[dir="rtl"] .close-results-btn {
    right: auto;
    left: 0;
}
.close-results-btn:hover {
    background: white;
    color: var(--primary-color);
    transform: scale(1.1); /* Removed rotation for home semantics, kept scale */
}

/* Header */
.creative-header {
    text-align: center;
    margin-bottom: 3.5rem;
    margin-top: 2rem;
    animation: fadeInDown 0.8s ease;
}
.creative-header h1 {
    font-size: clamp(2.2rem, 5vw, 3.5rem);
    margin-bottom: 0.8rem;
    color: #fff;
    text-shadow: 0 4px 20px rgba(0,0,0,0.4);
    font-weight: 800;
    letter-spacing: -0.5px;
}
.creative-header p {
    color: rgba(255,255,255,0.85);
    font-size: 1.2rem;
    max-width: 600px;
    margin: 0 auto;
    font-weight: 400;
}

/* Sections - Card Style: White Glass / Paper for maximum contrast */
.creative-card {
    background: rgba(255, 255, 255, 0.95); /* High opacity white for clarity */
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.6);
    border-radius: 28px;
    padding: 3rem;
    margin-bottom: 3rem;
    box-shadow: 0 20px 50px rgba(0,0,0,0.3);
    color: #333; /* Dark text on white card */
    transition: transform 0.3s ease;
    animation: fadeInUp 0.6s ease;
    position: relative;
    overflow: hidden;
}

.creative-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 25px 60px rgba(0,0,0,0.35);
}

/* Decorative accent for cards - width adjusted for mobile below */
.creative-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 6px;
    height: 100%;
    background: var(--primary-gradient);
}
html[dir="rtl"] .creative-card::before {
    left: auto;
    right: 0;
}

.creative-card h2 {
    color: var(--primary-color);
    font-size: 2rem;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 15px;
    font-weight: 700;
}

.creative-card-content {
    font-size: 1.1rem;
    line-height: 1.8;
    color: #444; /* Dark grey for readability */
}

/* TTS Buttons inside white cards need to be colored */
.creative-card .read-text-btn, 
.job-card-header .read-text-btn {
    color: var(--primary-color);
    background: rgba(192, 57, 43, 0.1);
}
.job-card-header .read-text-btn {
    color: white;
    background: rgba(255,255,255,0.2);
}

/* Feedback in creative mode */
.creative-card .feedback-controls {
    border-top: 1px dashed rgba(0,0,0,0.1);
    margin-top: 2.5rem;
    padding-top: 1.5rem;
}
.creative-card .feedback-question {
    color: #666;
}
.creative-card .feedback-btn {
    background: #f8f9fa;
    color: #555;
    border-color: #ddd;
}
.creative-card .feedback-btn:hover:not(:disabled) {
    background: #e9ecef;
    color: #333;
}
.creative-card .feedback-btn.selected {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

/* Jobs Grid */
.creative-jobs-section h2 {
    text-align: center;
    color: white;
    margin-bottom: 2.5rem;
    font-size: 2.2rem;
    text-shadow: 0 2px 10px rgba(0,0,0,0.3);
}

.creative-jobs-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 2.5rem;
}

.creative-job-card {
    background: white;
    border-radius: 24px;
    padding: 0;
    overflow: hidden;
    color: #333;
    box-shadow: 0 15px 35px rgba(0,0,0,0.2);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    animation: fadeInUp 0.7s ease;
    border: 1px solid rgba(0,0,0,0.05);
}

.creative-job-card:hover {
    transform: translateY(-12px);
    box-shadow: 0 25px 50px rgba(0,0,0,0.3);
    z-index: 2;
}

.job-card-header {
    background: var(--primary-gradient);
    padding: 2rem;
    color: white;
    position: relative;
    /* decorative shine */
    overflow: hidden;
}
.job-card-header::after {
    content: "";
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(to bottom right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.1) 50%, rgba(255,255,255,0) 100%);
    transform: rotate(30deg);
    pointer-events: none;
}

.job-card-header h3 {
    margin: 0;
    font-size: 1.5rem;
    font-weight: 800;
    line-height: 1.2;
    padding-right: 20px;
    text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}
html[dir="rtl"] .job-card-header h3 {
    padding-right: 0;
    padding-left: 20px;
}

.job-card-body {
    padding: 2rem;
}

.job-card-body p {
    color: #555;
    font-size: 1rem;
    line-height: 1.6;
    margin-bottom: 0;
}

.job-card-footer {
    padding: 1.2rem 2rem;
    background: #f8f9fa;
    border-top: 1px solid #eee;
    font-size: 0.95rem;
    color: #666;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.8rem;
}

/* Advice Section - Specific Styling */
.creative-advice-card {
    border-left: none; /* remove generic override */
    margin-top: 4rem;
}
.creative-advice-card::before {
    background: var(--accent-color); /* Gold accent for advice */
}
.creative-advice-card h2 {
    color: #2c3e50;
}


/* Floating Action Bar - Updated to be Fixed Bottom Sheet on Mobile */
.creative-actions {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    transform: none;
    background: rgba(255, 255, 255, 0.95);
    padding: 1.5rem;
    border-radius: 24px 24px 0 0; /* Rounded top corners only */
    box-shadow: 0 -10px 40px rgba(0,0,0,0.3);
    display: flex;
    flex-direction: column; /* Stacked vertically on mobile */
    gap: 1rem;
    z-index: 2000;
    backdrop-filter: blur(12px);
    border: none;
    border-top: 1px solid rgba(255,255,255,0.6);
    max-width: 100%;
}

.creative-actions .btn {
    width: 100%; /* Full width buttons on mobile */
    border-radius: 12px;
    padding: 1rem 1.5rem;
    font-size: 1.1rem;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    margin: 0;
    font-weight: 700;
    justify-content: center;
}

.creative-actions .btn.secondary {
    background: #f0f0f0;
    color: #333;
}
.creative-actions .btn.secondary:hover {
    background: #e0e0e0;
    color: #000;
}

/* Animations */
.animate-delay-1 { animation-delay: 0.1s; }
.animate-delay-2 { animation-delay: 0.3s; }
.animate-delay-3 { animation-delay: 0.5s; }

/* ------------------------------------------------------------------
   MOBILE RESPONSIVENESS
   Adjustments for smartphones and smaller screens (max-width: 768px)
   ------------------------------------------------------------------ */
@media screen and (max-width: 768px) {
  html {
    font-size: 13px; /* Reduced from 14px for smaller overall scale */
  }

  body {
      background-attachment: scroll; /* Smoother scrolling on mobile */
  }

  .container {
    padding: 0.8rem !important; /* Tighter container padding */
    width: 95%;
    margin-bottom: 1rem;
  }
  
  /* Reduced font sizes for mobile */
  h1 {
      font-size: 1.4rem !important; /* Slightly smaller */
      margin-bottom: 0.5rem; /* Tighter spacing */
      line-height: 1.2;
  }
  
  h2 {
      font-size: 1.2rem !important;
      margin-bottom: 0.8rem;
  }

  h3 {
      font-size: 1.1rem !important;
  }
  
  p {
      font-size: 0.9rem !important; /* Smaller body text */
      line-height: 1.5; /* Slightly tighter line height */
      margin-bottom: 0.8rem;
  }

  .header-container {
    flex-direction: column;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
  }
  
  .header-right {
      width: 100%;
      justify-content: space-between;
  }
  
  header h1 {
      font-size: 1.2rem; /* Smaller header title */
  }

  .btn {
    width: 100%;
    justify-content: center;
    padding: 0.6rem; /* Compact buttons */
    font-size: 0.95rem;
    margin-bottom: 0.5rem;
  }

  .top-nav-container .btn {
      width: auto;
      margin-bottom: 0;
  }

  .welcome-actions {
      margin-top: 1.2rem;
      gap: 0.8rem;
  }

  /* Optimize Forms for Mobile */
  .resume-builder-container {
      padding: 0.8rem !important;
  }

  .resume-section {
      margin-bottom: 1.2rem;
      padding-bottom: 0.8rem;
  }

  .form-row {
      flex-direction: column;
      gap: 0;
  }
  
  .resume-photo-section {
      flex-direction: column;
      align-items: flex-start;
  }
  
  /* Ensure inputs text size prevents iOS zoom */
  input[type="text"],
  input[type="number"],
  input[type="password"],
  input[type="search"],
  input[type="email"],
  textarea,
  select {
      font-size: 16px !important;
      padding: 0.6rem 0.8rem !important; /* Tighter input padding */
  }

  /* Allow Resume Preview to scroll horizontally on small screens */
  .resume-preview-wrapper {
      display: block;
      overflow-x: auto;
      padding-bottom: 1rem;
      align-items: flex-start;
  }
  
  .resume-paper {
      margin: 0 auto;
      transform: scale(0.9);
      transform-origin: top left;
  }

  .preview-toolbar {
      flex-direction: column;
      width: 100%;
  }
  
  .preview-toolbar .btn {
      width: 100%;
  }

  /* Creative Results Mobile Tweaks */
  .creative-card::before {
      width: 3px !important; /* THIN LINE FIX FOR MOBILE */
  }
  
  .creative-card {
      padding: 1.5rem !important; /* Reduce padding to save space */
  }

  /* Extra padding for content so it's not hidden behind the fixed footer */
  .creative-container {
      padding-bottom: 300px !important;
  }
  
  /* Adjusted main padding for fixed header on mobile */
  main {
      padding-top: 8.5rem; /* ~136px */
  }
}

/* Desktop override for the floating bar to look nicer on large screens */
@media (min-width: 769px) {
    .creative-actions {
        flex-direction: row;
        width: auto;
        left: 50%;
        transform: translateX(-50%);
        bottom: 2rem;
        border-radius: 50px;
        padding: 1rem 2rem;
        width: max-content;
        max-width: 90%;
    }
    .creative-actions .btn {
        width: auto;
        border-radius: 30px;
        padding: 0.8rem 1.5rem;
        font-size: 1rem;
    }
}

/* API Checker Styles - Collapsible */
.api-checker-wrapper {
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 1px dashed rgba(0,0,0,0.1);
}

.api-status-details {
    width: 100%;
}

.api-status-summary {
    cursor: pointer;
    font-weight: 500;
    color: #7f8c8d;
    padding: 0.5rem;
    list-style: none; /* Removes default triangle in some browsers */
    transition: color 0.2s;
    user-select: none;
}

.api-status-summary::-webkit-details-marker {
    display: none; /* Hides default triangle in WebKit */
}

.api-status-summary:hover {
    color: var(--primary-color);
}

.api-status-summary::after {
    content: ' â–¼';
    font-size: 0.8em;
    display: inline-block;
    transition: transform 0.2s;
}

.api-status-details[open] .api-status-summary::after {
    transform: rotate(180deg);
}

.api-status-checker {
    margin-top: 1rem;
    padding: 1rem;
    background: rgba(0,0,0,0.02);
    border-radius: 8px;
    animation: fadeIn 0.3s ease;
}

/* Resume Template Selector */
.template-selector {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 1.5rem;
    margin-top: 1rem;
}

.template-option {
    background: none;
    border: 2px solid var(--border-color);
    border-radius: 12px;
    padding: 1rem;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.8rem;
    transition: all 0.2s ease;
}

.template-option:hover {
    border-color: var(--primary-color);
    background: rgba(192, 57, 43, 0.05);
}

.template-option.selected {
    border-color: var(--primary-color);
    background: rgba(192, 57, 43, 0.1);
    box-shadow: 0 0 0 4px rgba(192, 57, 43, 0.2);
}

.template-option span {
    font-weight: 600;
    color: var(--text-color);
    font-size: 0.9rem;
}

.template-preview {
    width: 60px;
    height: 80px;
    background: white;
    border: 1px solid #ddd;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    position: relative;
    overflow: hidden;
}

/* Mini Previews */
.template-preview.modern {
    display: flex;
}
.template-preview.modern::before {
    content: '';
    width: 35%;
    background: #2c3e50;
    height: 100%;
}

.template-preview.classic {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 5px;
}
.template-preview.classic::before {
    content: '';
    width: 80%;
    height: 2px;
    background: #333;
    margin-bottom: 2px;
}
.template-preview.classic::after {
    content: '';
    width: 60%;
    height: 2px;
    background: #999;
}

.template-preview.creative {
    display: flex;
    flex-direction: column;
}
.template-preview.creative::before {
    content: '';
    width: 100%;
    height: 20px;
    background: var(--primary-color);
}

/* Resume Preview Styles (A4 Paper) */
.resume-paper {
    width: 210mm;
    min-height: 297mm;
    background: white;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    display: flex;
    overflow: hidden;
    color: #333;
    font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
    margin-bottom: 2rem;
    position: relative;
}

/* ----- Template: Modern (Default) ----- */
.resume-paper.template-modern .resume-sidebar {
    width: 35%;
    background-color: #2c3e50;
    color: white;
    padding: 30px 20px;
    display: flex;
    flex-direction: column;
    gap: 2rem;
}

.resume-paper.template-modern .resume-main {
    width: 65%;
    padding: 40px;
    background-color: white;
}

.resume-paper.template-modern .resume-header h1 {
    color: #2c3e50;
    text-transform: uppercase;
}

/* ----- Template: Classic ----- */
.resume-paper.template-classic {
    display: block; /* Stack vertically */
    padding: 40px 50px;
    font-family: 'Georgia', 'Times New Roman', serif;
    color: #000;
}

.resume-paper.template-classic .resume-sidebar {
    width: 100%;
    background: none;
    color: #000;
    padding: 0;
    border-bottom: 2px solid #000;
    margin-bottom: 20px;
    padding-bottom: 20px;
    flex-direction: row;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: 2rem;
}

.resume-paper.template-classic .resume-avatar {
    width: 100px;
    height: 100px;
    border: 1px solid #ccc;
    order: -1; /* Move to top/left */
}

.resume-paper.template-classic .resume-contact,
.resume-paper.template-classic .resume-skills-section {
    width: 100%;
    text-align: center;
}

.resume-paper.template-classic .resume-contact h3,
.resume-paper.template-classic .resume-skills-section h3 {
    display: none; /* Hide headers for compact classic look */
}

.resume-paper.template-classic .resume-contact p {
    color: #333;
    display: inline-block;
    margin: 0 10px;
    font-size: 0.9rem;
}

.resume-paper.template-classic .resume-main {
    width: 100%;
    padding: 0;
}

.resume-paper.template-classic .resume-header {
    text-align: center;
    border-bottom: none;
    margin-bottom: 1rem;
}

.resume-paper.template-classic .resume-header h1 {
    font-size: 2.5rem;
    text-transform: none;
    color: #000;
}

.resume-paper.template-classic .resume-header h2 {
    font-size: 1.2rem;
    font-style: italic;
    text-transform: none;
    color: #555;
}

.resume-paper.template-classic .resume-body-section h3 {
    border-bottom: 1px solid #000;
    color: #000;
    font-family: 'Arial', sans-serif; /* Keep headers clean */
    margin-top: 1.5rem;
}

/* ----- Template: Creative ----- */
.resume-paper.template-creative {
    display: block;
    font-family: 'Poppins', sans-serif;
    color: #333;
}

.resume-paper.template-creative .resume-main {
    width: 100%;
    padding: 40px;
}

.resume-paper.template-creative .resume-sidebar {
    display: none; /* We'll render sidebar content differently or hide it if structure assumes side-by-side */
}
/* Re-inject sidebar content into main flow for Creative via absolute positioning or grid if needed, 
   but for simplicity, we'll keep the DOM structure and adapt CSS. 
   Actually, the DOM puts sidebar first. Let's make it a top banner + 2 columns below. */

.resume-paper.template-creative {
    display: grid;
    grid-template-columns: 30% 70%;
    grid-template-rows: auto 1fr;
}

.resume-paper.template-creative .resume-sidebar {
    grid-row: 2;
    grid-column: 1;
    width: 100%;
    background: #f4f4f4;
    color: #333;
    padding: 30px;
    display: flex;
    flex-direction: column;
}

.resume-paper.template-creative .resume-main {
    grid-row: 2;
    grid-column: 2;
    width: 100%;
    padding: 40px;
}

/* Creative Header spans full width? No, let's put header in sidebar for a unique look, or keep top.
   Let's try a bold left column with the photo overlapping. */

.resume-paper.template-creative .resume-sidebar {
    background: var(--primary-color);
    color: white;
}

.resume-paper.template-creative .resume-contact h3,
.resume-paper.template-creative .resume-skills-section h3 {
    color: white;
    border-color: rgba(255,255,255,0.4);
}

.resume-paper.template-creative .resume-contact p,
.resume-paper.template-creative .resume-skills-section p {
    color: rgba(255,255,255,0.9);
}

.resume-paper.template-creative .resume-header {
    /* Pull header up or distinct style */
    border-left: 5px solid var(--primary-color);
    padding-left: 20px;
    border-bottom: none;
}

.resume-paper.template-creative .resume-header h1 {
    font-size: 3rem;
    color: var(--primary-color);
    line-height: 0.9;
}

.resume-paper.template-creative .resume-body-section h3 {
    color: var(--primary-color);
    border-bottom: none;
    background: rgba(192, 57, 43, 0.1);
    padding: 5px 10px;
    border-radius: 4px;
    display: inline-block;
}


/* Common Elements within Templates */
.resume-avatar {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background-color: #ecf0f1;
    margin: 0 auto;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 4px solid rgba(255,255,255,0.2);
}

.resume-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Sidebar Headings Default */
.resume-contact h3, .resume-skills-section h3 {
    color: #3498db;
    text-transform: uppercase;
    font-size: 0.9rem;
    border-bottom: 1px solid rgba(255,255,255,0.2);
    padding-bottom: 5px;
    margin-bottom: 15px;
    letter-spacing: 1px;
}

.resume-contact p {
    font-size: 0.85rem;
    color: #ecf0f1;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 10px;
    word-break: break-all;
}

.resume-skills-section p {
    font-size: 0.9rem;
    color: #ecf0f1;
    line-height: 1.6;
}

/* Main Content Elements Default */
.resume-header {
    margin-bottom: 2rem;
    border-bottom: 2px solid #f0f0f0;
    padding-bottom: 1rem;
}

.resume-header h1 {
    color: #2c3e50;
    text-transform: uppercase;
    font-size: 2.2rem;
    font-weight: 700;
    margin-bottom: 5px !important;
    line-height: 1.1;
}

.resume-header h2 {
    color: #7f8c8d;
    font-size: 1.1rem !important;
    font-weight: 400;
    margin-bottom: 15px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.resume-summary {
    color: #555;
    font-size: 0.95rem;
    line-height: 1.6;
    margin-bottom: 0;
}

.resume-body-section {
    margin-bottom: 2rem;
}

.resume-body-section h3 {
    color: #2c3e50;
    text-transform: uppercase;
    font-size: 1rem !important;
    font-weight: 700;
    border-bottom: 2px solid #2c3e50;
    padding-bottom: 5px;
    margin-bottom: 15px;
    letter-spacing: 1px;
}

.resume-item {
    margin-bottom: 1.5rem;
    page-break-inside: avoid;
}

.resume-item h4 {
    font-size: 1.05rem;
    color: #2c3e50;
    font-weight: 700;
    margin: 0 0 5px 0;
}

.resume-meta {
    font-size: 0.9rem;
    color: #7f8c8d;
    font-style: italic;
    margin-bottom: 8px;
}

.resume-item p {
    font-size: 0.95rem;
    color: #444;
    line-height: 1.5;
    margin-bottom: 0;
}

/* Print Styles */
@media print {
    body * {
        visibility: hidden;
    }
    .resume-paper, .resume-paper * {
        visibility: visible;
    }
    .resume-paper {
        position: absolute;
        left: 0;
        top: 0;
        margin: 0;
        box-shadow: none;
        width: 100%;
        min-height: 100%;
    }
    @page {
        margin: 0;
    }
}
